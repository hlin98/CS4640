<!DOCTYPE html>
<html>
<head>
    <title>Register</title>
    <link href="style.css" rel="stylesheet">
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="script.js"></script>
    <script src="https://kit.fontawesome.com/fa27627a5d.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Nunito&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-transparent">
        <img class="navbar-brand" height="30px" href="#" src="https://i.imgur.com/9wVzybw.jpg">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link" href="#">Home<span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">About</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Search</a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Profile</a>
              </li>
          </ul>
        </div>
      </nav>

      <div align="center" class="container">
            <div class="col-md-5" name="login">
                <img width="400px" src="https://media.giphy.com/media/jtj1ESIdlNDzzccTIV/giphy.gif">
                <div align="left" class="col-md-11">
                    <p></p>
                    <a href="./login.html">
                        <p align="right" style="font-size: 12px; color: #fd455c; margin-left: 100">Already signed up? Log in.</p>
                    </a>
                    <form id="loginform" action="homePage.html" onsubmit="return checkEmail() || confirmPass()" method="POST">
                        <b><label>Username:</label></b>
                        <div id="userinput" class="feedback"></div>
                        <input type="text" placeholder="Enter username" id="username" autofocus required size="44">
                        <p></p>
                        <b><label>UVA Email:</label></b>
                        <div id="emailinput" class="feedback"></div>
                        <input type="text" placeholder="Enter valid UVA email address" id="emailtext" autofocus required size="44">
                        <p></p>
                        <b><label>Password:</label></b>
                        <div id="passinput" class="feedback"></div>
                        <input type="password" placeholder="Enter valid password" id="passtext" required maxlength="18" minlength="8" size="44">
                        <p></p>
                        <b><label>Confirm Password:</label></b>
                        <div id="passinput2" class="feedback"></div>
                        <input type="password2" placeholder="Confirm valid password" id="passtext2" required maxlength="18" minlength="8" size="44">
                        <p></p>

                        <input type="checkbox" id="showpass" style="font-size: 5px"> Show Password
                        <p></p>
                        <div align="center">
                        <input type="submit" id="subbutton" style="width: 200px" value="Sign Up"></div>
                    </form>
                </div>
                <img width="400px" src="https://i.imgur.com/XmV4zDV.jpg">
                <p></p>
                <p> </p>
                </div>
            </div>

    <script>
    
    // Function to show the encoded password
    (function checkPassword() {
      var pass2 = document.getElementById("passtext");
      var pass3 = document.getElementById("passtext2");
      var show2 = document.getElementById("showpass");
      
      show2.addEventListener("change", function checkPassword() {
         try {
            if (show2.checked) {
               pass2.type = "text";
               pass3.type = "text";
            } else
               pass2.type = "password";
               pass3.type = "password2";
         } catch(error) {
            alert("Try again. Unable to switch type.");
         }         
      }, false);      
   }());

   // Function to check valid email address
   function checkEmail() {
        var studentid = document.getElementById("emailtext")
        if (studentid.value.length < 17 || studentid.value.length > 19) {
            alert ("Invalid UVA email address.");
            return false;
        } if (!checkPattern(studentid.value)) {
            alert("Student ID must be in the UVA computingID format");
            return false;
        } return true;
    }

   // Function to check if passwords are the same
   function confirmPass() {
        var password1 = document.getElementById("passtext");
        var password2 = document.getElementById("passtext2");
        if (password1 != password2) {
            alert("Passwords do not match.")
            return false;
        } else {
            password1.textContent = "";
            return true;
        } return true;
   }

    // Function to check if username is eligible
    function checkUser() {
      var msg = document.getElementById("userinput");
      if (this.value.length < 6 && this.value.length > 0)         
         msg.textContent = "Username should be more than 6 characters long.";
      else
         msg.textContent = "";        
    } var user = document.getElementById("username");
   user.addEventListener("blur", checkUser, false);

    // Function to check if password is eligible
    function checkPass() {
      var msg2 = document.getElementById("passinput");
      if (this.value.length < 7 && this.value.length > 0)         
         msg2.textContent = "Password should be more than 7 characters long.";
      else
         msg2.textContent = "";       
    } var user2 = document.getElementById("passtext");
   user2.addEventListener("blur", checkPass, false);
    </script>

</body>
</html>